<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Rime 西米 for Squirrel</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/3.13.1/js-yaml.min.js"></script>
    <script src="jscolor/jscolor.js"></script>
    <script src="js/script.js"></script>
    <script type="application/x-javascript" src="js/rw.js"></script>
  </head>
  <body>
    <h1><span>RIME</span> <ruby>西<rt>See</rt></ruby><ruby>米<rt>Me</rt></ruby> - for <ruby>Squirrel<rt>鼠鬚管</rt></ruby></h1>
    <table>
      <tbody>
        <tr>
          <td id="effect">
            <div id="box">
              <div id="select"> <span id="text">穿搭</span><span id="hilited">pei se</span>&nbsp;<span
                  id="cursor">˰</span></div>
              <div id="display">
                <div id="n1"><span id="label1">1.</span><span id="word">配色</span><span
                    id="code1">(pei se)</span></div>
                <div id="n2"><span id="label2">2.</span><span id="word">陪</span><span
                    id="code2">(pei)</span></div>
                <div id="n3"><span id="label3">3.</span><span id="word">配</span><span
                    id="code3">(pei)</span></div>
                <div id="n4"><span id="label4">4.</span><span id="word">賠</span><span
                    id="code4">(pei)</span></div>
                <div id="n5"><span id="label5">5.</span><span id="word">培</span><span
                    id="code5">(pei)</span></div>
                <div id="n6"><span id="label6">6.</span><span id="word">佩</span><span
                    id="code6">(pei)</span></div>
                <div id="n7"><span id="label7">7.</span><span id="word">裴</span><span
                    id="code7">(pei)</span></div>
                <div id="n8"><span id="label8">8.</span><span id="word">斐</span><span
                    id="code8">(pei)</span></div>
                <div id="n9"><span id="label9">9.</span><span id="word">呸</span><span
                    id="code9">(pei)</span></div>
              </div>
            </div>
          </td>
          <td id="style_setting">
            <form>
              <fieldset> <legend>基本資訊</legend> <span>代<span class="em"></span>號</span><input
                  name="schema"
                  value="example"
                  onchange="writeIn(this.name,this.value+':');"
                  type="text"><br>
                <span>名<span class="em"></span>稱</span><input name="name"
                  value="名字"
                  onchange="writeIn(this.name,this.value);"
                  type="text"><br>
                <span>作<span class="em"></span>者</span><input name="author"
                  value="作者"
                  onchange="writeIn(this.name,this.value);"
                  type="text"><br>
              </fieldset>
              <fieldset> <legend>其他設定</legend> <span>候選數</span> <input
                  value="9"
                  min="1"
                  max="9"
                  name="number"
                  onchange="changeNumber(this.value)"
                  type="range"><br>
              </fieldset>
              <fieldset> <legend>環境參考背景</legend> <span>背景色</span><input
                  id="background"
                  class="color"
                  name="body"
                  value="F9F9F9"
                  onchange="document.getElementById('effect').style.backgroundColor = '#'+this.color"
                  type="text"> </fieldset>
              <fieldset id="modEx"> <legend>BGR &lt;&gt; RGB</legend> <span>BGR</span><input
                  id="bgr"
                  value="77DDBB"
                  onchange="exMode('bgr','rgb',this.value);"
                  type="text"><br>
                <span>RGB</span><input class="color  {pickerPosition:'right'}"
                  id="rgb"
                  value="BBDD77"
                  onchange="exMode('rgb','bgr',this.value);"
                  type="text"><br>
              </fieldset>
            </form>
          </td>
          <td id="color_setting">
            <form>
              <fieldset> <legend>小視窗設定</legend> <span>背景</span><input
                  class="color {pickerPosition:'left'}"
                  name="back"
                  value="FFFFFF"
                  onchange="changeColor('box','bg',this.name,this.color);"
                  type="text">
                <!--鼠鬚管沒有邊框--> </fieldset>
              <fieldset> <legend>組字區域</legend> <span>文字</span><input class="color {pickerPosition:'left'}"
                  name="text"
                  value="000000"
                  onchange="changeColor('text','c',this.name,this.color);"
                  type="text"><br>
                <span>編碼</span><input class="color {pickerPosition:'left'}"
                  name="hilited_text"
                  value="000000"
                  onchange="changeColor('hilited','c',this.name,this.color);"
                  type="text"><br>
                <span>背景</span><input class="color {pickerPosition:'left'}"
                  name="hilited_back"
                  value="DDDDDD"
                  onchange="changeColor('hilited','bg',this.name,this.color);"
                  type="text"> </fieldset>
              <fieldset> <legend>選定候選項</legend> <span>文字</span><input
                  class="color {pickerPosition:'left'}"
                  name="hilited_candidate_text"
                  value="FFFFFF"
                  onchange="changeColor('n1','c',this.name,this.color);"
                  type="text"><br>
                <span>背景</span><input class="color {pickerPosition:'left'}"
                  name="hilited_candidate_back"
                  value="000000"
                  onchange="changeColor('n1','bg',this.name,this.color);"
                  type="text"><br>
                <span>序號</span><input class="color {pickerPosition:'left'}"
                  name="hilited_candidate_label"
                  value="FFFFFF"
                  onchange="changeColor('label1','c',this.name,this.color);"
                  type="text"> <br>
                <span>提示</span><input class="color {pickerPosition:'left'}"
                  name="hilited_comment_text"
                  value="FFFFFF"
                  onchange="changeColor('code1','c',this.name,this.color);"
                  type="text"></fieldset>
              <fieldset> <legend>其他候選項</legend> <span>文字</span><input
                  class="color {pickerPosition:'left'}"
                  name="candidate_text"
                  value="000000"
                  onchange="for(i=2;i<=9;i++) document.getElementById('n'+i).style.color = '#'+this.color;exConvert(this.name,this.color); changeColor('cursor','c',this.name,this.color);"
                  type="text"><br>
                <span>序號</span><input class="color {pickerPosition:'left'}"
                  name="label"
                  value="000000"
                  onchange="for(i=2;i<=9;i++) document.getElementById('label'+i).style.color = '#'+this.color;exConvert(this.name,this.color);"
                  type="text"> <br>
                <span>提示</span><input class="color {pickerPosition:'left'}"
                  name="comment_text"
                  value="DDDDDD"
                  onchange="for(i=2;i<=9;i++) document.getElementById('code'+i).style.color = '#'+this.color;exConvert(this.name,this.color);"
                  type="text"> </fieldset>
            </form>
          </td>
          <td id="code_generate">
            <h2>產生設定碼</h2>
            <div id="source_code">
              <div id="schema">example:</div>
              <div>&nbsp;&nbsp;name:&nbsp;<span id="name">名字</span></div>
              <div>&nbsp;&nbsp;author:&nbsp;<span id="author">作者</span></div>
              <div>&nbsp;&nbsp;back_color:&nbsp;0x<span id="back_color"></span></div>
              <div>&nbsp;&nbsp;text_color:&nbsp;0x<span id="text_color"></span></div>
              <div>&nbsp;&nbsp;hilited_text_color:&nbsp;0x<span id="hilited_text_color"></span></div>
              <div>&nbsp;&nbsp;hilited_back_color:&nbsp;0x<span id="hilited_back_color"></span></div>
              <div>&nbsp;&nbsp;hilited_candidate_text_color:&nbsp;0x<span
                  id="hilited_candidate_text_color"></span></div>
              <div>&nbsp;&nbsp;hilited_candidate_back_color:&nbsp;0x<span
                  id="hilited_candidate_back_color"></span></div>
              <div>&nbsp;&nbsp;hilited_candidate_label_color:&nbsp;0x<span
                  id="hilited_candidate_label_color"></span></div>
              <div>&nbsp;&nbsp;hilited_comment_text_color:&nbsp;0x<span
                  id="hilited_comment_text_color"></span></div>
              <div>&nbsp;&nbsp;candidate_text_color:&nbsp;0x<span id="candidate_text_color"></span></div>
              <div>&nbsp;&nbsp;label_color:&nbsp;0x<span id="label_color"></span></div>
              <div>&nbsp;&nbsp;comment_text_color:&nbsp;0x<span id="comment_text_color"></span></div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div>支援瀏覽器：Chrome 內核（Chrome、Vivaldi、……）或 Firefox 68、Waterfox 56 等（其餘瀏覽器可能也可正常運作，<a
        href="https://github.com/GJRobert/Rime-See-Me-squirrel/issues/1"
        target="_blank">歡迎回報</a>）</div>
    <!--工作區--> <input id="files" name="files[]" multiple="" type="file">
    <output id="list"></output>
    <script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    // for (var i = 0, f; f = files[i]; i++) {
    //  output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
    //              f.size, ' bytes, last modified: ',
    //              f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
    //              '</li>');
    //}
    var f = files[0];
    var reader = new FileReader();
    reader.onload = function (e) {
//    output.push(e.target.result);
       output = e.target.result;
          document.getElementById('list').innerHTML = '<ul>' + output + '</ul>';
    }
    reader.readAsText(f);

  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>
  </body>
</html>
